@use "sass:list";
@use "sass:selector";
@use "../../function/string";

////
/// Core Function : Selector nest
/// @group core
////

@function nest($selectors...) {
  $result: '';
  @each $selector in $selectors {
    @if $result == '' {
      $result: '#{$selector}';
    }
    @else if $selector {
      $segments: string.str-split($result, ',');
      $concat: ();
      @each $segment in $segments {
        $concat: list.append($concat, selector.nest($segment, $selector), comma);
      }
      $result: '#{$concat}';
    }
  }
  @return $result;
}
